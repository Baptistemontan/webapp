(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{147:function(e,r,t){},148:function(e,r,t){},349:function(e,r,t){},351:function(e,r,t){"use strict";t.r(r);var n=t(1),c=t.n(n),i=t(57),s=t.n(i),a=(t(147),t(12)),l=(t(148),t(84),t(0));function d(e){var r=e.driver;return Object(l.jsx)("div",{className:"DriverSelect-wrapper",children:Object(l.jsx)("p",{className:"DriverSelect-name",children:(null===r||void 0===r?void 0:r.driverName)||"No driver"})})}function j(e){var r=e.currentDriver,t=e.drivers,n=e.clickHandler,c=t.map((function(e,t){return Object(l.jsx)("li",{className:"DriverList-Selector button "+(e.driverId===(null===r||void 0===r?void 0:r.driverId)?"selected":""),onClick:function(){return n(e,!0)},children:Object(l.jsx)(d,{driver:e})},e.driverName+t)})),i=Object(l.jsx)("li",{className:"DriverList-Selector",children:Object(l.jsx)(d,{})});return Object(l.jsx)("ul",{className:"DriverList-Wrapper",children:c.length?c:i})}function v(e){var r=new Date(e),t=60*r.getTimezoneOffset()*1e3;return new Date(r.getTime()-t).toISOString().slice(0,19).replace(/-/g,"/").replace("T"," ")}var o=t(37),b=(t(85),t(20));function u(e){var r=e.driver,t=e.clickHandler,c=Object(n.useState)(!1),i=Object(a.a)(c,2),s=i[0],d=i[1];return Object(l.jsx)(b.Marker,{position:r.events[0].pos,onClick:function(){d(!s),t(r,!1)},children:s&&Object(l.jsx)(b.InfoWindow,{onCloseClick:function(){return d(!1)},children:Object(l.jsx)("p",{children:r.driverName})})})}var O={url:"http://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",origin:{x:-12,y:0}};function h(e){var r=e.event;return Object(l.jsx)(b.Marker,{position:null===r||void 0===r?void 0:r.pos,icon:O})}var p={lat:35.191766965947394,lng:-90.0439453125},x={containerElement:Object(l.jsx)("div",{style:{height:"50vh"}}),mapElement:Object(l.jsx)("div",{style:{height:"100%"}})};var m=Object(b.withGoogleMap)((function(e){var r=e.recenter,t=e.currentDriver,n=e.drivers,c=e.clickHandler,i=e.event;return Object(l.jsxs)(b.GoogleMap,Object(o.a)(Object(o.a)({defaultZoom:5,defaultCenter:p,options:{gestureHandling:"greedy"}},r&&t?{center:t.events[0].pos}:{}),{},{children:[Object(l.jsx)(l.Fragment,{children:n.map((function(e,r){return e.events[0].pos!==(null===i||void 0===i?void 0:i.pos)&&Object(l.jsx)(u,{driver:e,clickHandler:c},e.driverName+r)}))}),Object(l.jsx)(h,{event:i})]}))}));t(349);function g(e){var r=e.event,t=e.clickHandle,n=e.selected;return Object(l.jsxs)("tr",{onClick:t,className:"button "+(n?"selected":""),children:[Object(l.jsx)("td",{className:"driverEvent-big",children:v(r.eventTime)}),Object(l.jsx)("td",{className:"driverEvent-small",children:r.routeId}),Object(l.jsx)("td",{className:"driverEvent-big",children:r.routeName}),Object(l.jsx)("td",{className:"driverEvent-small",children:r.speed}),Object(l.jsx)("td",{className:"driverEvent-big",children:r.eventType}),Object(l.jsx)("td",{className:"driverEvent-small",children:r.foggy?"True":"False"}),Object(l.jsx)("td",{className:"driverEvent-small",children:r.rainy?"True":"False"}),Object(l.jsx)("td",{className:"driverEvent-small",children:r.windy?"True":"False"}),Object(l.jsx)("td",{className:"driverEvent-last",children:r.congestionLevel})]})}function f(e){var r=e.eventSelectHandle,t=e.currentDriver,c=Object(n.useState)(void 0),i=Object(a.a)(c,2),s=i[0],d=i[1],j=Object(n.useState)(t),v=Object(a.a)(j,2),o=v[0],b=v[1];t.driverId!==o.driverId&&(b(t),d(void 0));return Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{className:"driverEvent-big",children:"Date :"}),Object(l.jsx)("th",{className:"driverEvent-small",children:"Route ID :"}),Object(l.jsx)("th",{className:"driverEvent-big",children:"Route name :"}),Object(l.jsx)("th",{className:"driverEvent-small",children:"Speed :"}),Object(l.jsx)("th",{className:"driverEvent-big",children:"Event type :"}),Object(l.jsx)("th",{className:"driverEvent-small",children:"Foggy :"}),Object(l.jsx)("th",{className:"driverEvent-small",children:"Rainy :"}),Object(l.jsx)("th",{className:"driverEvent-small",children:"Windy :"}),Object(l.jsx)("th",{className:"driverEvent-big",children:"Congestion level :"})]})}),Object(l.jsx)("tbody",{children:t.events.map((function(e,t){return Object(l.jsx)(g,{selected:t===s,event:e,clickHandle:function(){!function(e,t){d(t),r(e)}(e,t)}})}))})]})}function N(e){var r=e.recenter,t=e.currentDriver,n=e.drivers,c=e.changeDriverHandler,i=e.changePageHandler,s=e.changeEventHandler,a=e.currentEvent;return Object(l.jsxs)("div",{className:"DriverPage-wrapper",children:[Object(l.jsxs)("div",{className:"DriverPage-info-wrapper",children:[Object(l.jsx)("div",{className:"DriverPage-info",children:Object(l.jsxs)("p",{children:["Driver Name : ",void 0===t?"No driver selected.":t.driverName,Object(l.jsx)("br",{}),"Truck ID : ",null===t||void 0===t?void 0:t.truckId]})}),t&&Object(l.jsx)("div",{className:"DriverPage-switch-button button",onClick:i,children:Object(l.jsx)("p",{children:"Driver Info Page"})})]}),Object(l.jsx)(m,Object(o.a)({recenter:r,currentDriver:t,drivers:n,clickHandler:function(e,r){s(void 0),c(e,r)},event:a},x)),t&&Object(l.jsx)(f,{currentDriver:t,eventSelectHandle:function(e){s(e)}})]})}var D=t(350);function E(e){var r=e.event;return Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{children:["Date : ",v(r.eventTime)]}),Object(l.jsxs)("p",{children:["Route ID : ",r.routeId]}),Object(l.jsxs)("p",{children:["Route Name : ",r.routeName]}),Object(l.jsxs)("p",{children:["Speed : ",r.speed]}),Object(l.jsxs)("p",{children:["Event type : ",r.eventType]}),Object(l.jsxs)("p",{children:["Foggy : ",r.foggy?"True":"False"]}),Object(l.jsxs)("p",{children:["Rainy : ",r.rainy?"True":"False"]}),Object(l.jsxs)("p",{children:["Windy : ",r.windy?"True":"False"]}),Object(l.jsxs)("p",{children:["Congestion level : ",r.congestionLevel]}),Object(l.jsxs)("p",{children:["Event position : ",D(r.pos.lat,r.pos.lng).format()]})]})}function k(e){var r=e.currentDriver,t=e.changePageHandler,c=Object(n.useState)(void 0),i=Object(a.a)(c,2),s=i[0],d=i[1];return Object(l.jsxs)("div",{className:"DriverPage-wrapper",children:[Object(l.jsxs)("div",{className:"DriverPage-info-wrapper",children:[Object(l.jsx)("div",{className:"DriverPage-info",children:Object(l.jsxs)("p",{children:["Driver Name : ",r.driverName,Object(l.jsx)("br",{}),"Truck ID : ",r.truckId]})}),Object(l.jsx)("div",{className:"DriverPage-switch-button button",onClick:t,children:Object(l.jsx)("p",{children:"Driver Map Page"})})]}),Object(l.jsx)(f,{currentDriver:r,eventSelectHandle:d}),s&&Object(l.jsx)(E,{event:s})]})}var y=function(){var e=Object(n.useState)([]),r=Object(a.a)(e,2),t=r[0],c=r[1],i=Object(n.useState)(void 0),s=Object(a.a)(i,2),d=s[0],v=s[1],o=Object(n.useState)(!1),b=Object(a.a)(o,2),u=b[0],O=b[1],h=Object(n.useState)(!1),p=Object(a.a)(h,2),x=p[0],m=p[1],g=Object(n.useState)(void 0),f=Object(a.a)(g,2),D=f[0],E=f[1],y=function(){E(void 0),m(!x)};Object(n.useEffect)((function(){var e,r;e=window.location.href+"/drivers.json",r=c,fetch(e).then((function(e){return e.json()}),(function(e){console.log(e)})).then((function(e){r(e)}),(function(e){console.log(e)}))}),[]);var S=function(e,r){O(r),E(void 0),v(e)};return Object(l.jsxs)("div",{className:"app-wrapper",children:[Object(l.jsx)("div",{className:"app-driverList",children:Object(l.jsx)(j,{currentDriver:d,drivers:t,clickHandler:S})}),Object(l.jsx)("div",{className:"app-driverPage",children:x&&d?Object(l.jsx)(k,{currentDriver:d,changePageHandler:y}):Object(l.jsx)(N,{currentEvent:D,changeEventHandler:E,recenter:u,currentDriver:d,drivers:t,changeDriverHandler:S,changePageHandler:y})})]})},S=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,352)).then((function(r){var t=r.getCLS,n=r.getFID,c=r.getFCP,i=r.getLCP,s=r.getTTFB;t(e),n(e),c(e),i(e),s(e)}))};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root")),S()},84:function(e,r,t){},85:function(e,r,t){}},[[351,1,2]]]);
//# sourceMappingURL=main.ac85ba3b.chunk.js.map